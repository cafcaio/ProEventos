<app-titulo [titulo]="'Eventos'"></app-titulo>

<div class="mb-2">
  <input type="text"
  [(ngModel)]="filtroLista"
  class="form-control"
  aria-label="Small"
  aria-describedby="inputGroup-sizing-sm"
  placeholder="buscar...">
</div>



<!-- <form class="form-inline">
<div class="form-group mb-2">
  <label class="">Filtro: </label>
  <input type="text" class="form-control mr-2" placeholder="buscar..." >
</div>
</form> -->

<table class="table table-striped" style="table-layout:fixed">
  <thead class="table-dark">
    <tr>
      <th> <!--botão de collapse para imagens-->
      <button type="button" class="btn btn-outline btn-light btn-sm"
        (click)="isCollapsed = !isCollapsed"
        [attr.aria-expanded]="!isCollapsed" aria-controls="collapseBasic">
        <i class='{{isCollapsed ? "fa fa-eye" : "fa fa-eye-slash"}}'></i>
        {{isCollapsed ? "Mostrar" : "Ocultar"}}
      </button>
      </th>
      <th>ID</th>
      <th>Tema</th>
      <th>Local</th>
      <th>Data</th>
      <th>Qtd Pessoas</th>
      <th>Lote</th>
      <th>Opções</th>
    </tr>
  </thead>

<tbody *ngIf="eventos.length!=0">
  <tr *ngFor="let evento of eventosFiltrados">
    <td>
    <img class="foto-palestra"
    [collapse]="isCollapsed"
    [isAnimated]="true"
    src="/assets/{{evento.imagemURL}}"
    alt="Foto palestra">
    </td>
    <td>{{evento.id}}</td>
    <td>{{evento.tema}}</td>
    <td>{{evento.local}}</td>
    <td>{{evento.dataEvento | DateFormatPipe}}</td>
    <td>{{evento.qtdPessoas}}</td>
    <td>{{evento.lotes?.[0]?.nome}}</td>
    <td>
      <button type="button" class="btn btn-primary btn-sm me-2" tooltip="Editar" container="body" title="Editar">
        <i class='fa fa-edit'></i>
      </button>

      <button type="button" class="btn btn-danger btn-sm" tooltip="Excluir" container="body" title="Excluir" (click)="openModal(template)">
        <i class='fa fa-trash'></i>
      </button>


    </td>
  </tr>
</tbody>
<tfoot *ngIf="eventosFiltrados.length==0">
  <tr>
    <td colspan="8">
      <p>Nenhum evento encontrado!</p>
    </td>
  </tr>
</tfoot>
</table>


<ng-template #template>
  <div class="modal-body text-center">
    <p>Deseja deletar o evento?</p>
    <button type="button" class="btn btn-default" (click)="confirm()">Sim</button>
    <button type="button" class="btn btn-primary" (click)="decline()">Não</button>
  </div>
</ng-template>


